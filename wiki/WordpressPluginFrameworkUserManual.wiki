#summary Implementation guide for the Wordpress Plugin Framework.
#labels Featured,Phase-Implementation

= Introduction =

The Wordpress Plugin Framework (WPF) is a PHP class that is used to provide a framework for the development of Wordpress plugins. The overall intention of the WPF is to generalize and simplify plugin design while also helping plugins adhere to a common administration and usage standard. This manual will help guide you in the development and implementation of a Wordpress plugin derived from the WPF base class.




= Getting Started =

This section will provide a strategy for the creation of a plugin based from the WPF.

NOTE: Throughout this document I will reference the design and development of a fictional *My Test Plugin* that resides in the *my-test-plugin* folder and is implemented as the *my-test-plugin.php* file. 

== Creating a Plugin Package ==

The first step to developing any Wordpress plugin is to create a plugin package. This package consists of a specially named folder to contain your plugin files and a specially named file that is your main plugin file.

So for our example plugin design we will need to do the following:
  # Create a *my-test-plugin* folder.
  # Create a *my-test-plugin.php* file within the *my-test-plugin* folder.

Don't worry about writing any code at this point. You will need to download and integrate the WPF before you can begin your true plugin development. Don't worry though... integrating the WPF into your plugin package will only take a few minutes.

NOTE: You may want to integrate your plugin package with the Wordpress subversion repository in order to maintain proper revision control and allow for other Wordpress users to gain access to your plugin. Information on utilizing the Wordpress subversion repository is out of the scope of this document. However, more information on this topic can be found at the Wordpress Extend [http://wordpress.org/extend/plugins/add/ Add Your Plugin] webpage.

== Obtaining the Wordpress Plugin Framework ==

Now that you have created your basic plugin package you can begin integration of the WPF into your plugin package. But first, you will need to download the latest release of the WPF from the Wordpress subversion repository.

 [http://wordpress.org/extend/plugins/wordpress-plugin-framework/ Click Here To Download The Latest Release of the Wordpress Plugin Framework]

== Integrating the Wordpress Plugin Framework ==

Integration of the WPF into your plugin package is a fairly simple and painless process. First you will need to unzip the archive file that you retrieved from the Wordpress subversion repository. Next you will need to copy the *wordpress-plugin-framework.php* and *README.txt* files into your plugin package folder.

So for our example plugin design we will need to do the following:
  # Unzip the archive file to the *wordpress-plugin-framework* folder.
  # Copy the *wordpress-plugin-framework.php* file into the *my-test-plugin* folder.
  # Copy the *README.txt* file into the *my-test-plugin* folder.

See... I told you it would be painless... well, you aren't quite done yet. You will still need to customize a small section of the *wordpress-plugin-framework.php* file for your specific plugin.

== Customizing the Wordpress Plugin Framework ==

The customizations required for your specific plugin provide the WPF with some specific knowledge about your plugin package and naming structures. Knowledge of these structures is required in order for the WPF to operate properly. 

First you will need to customize the name of the WPF class for your plugin package. This is required due to the lack of namespace support in PHP 4/5. Then you will need to customize the section of plugin-specific class variables so that the WPF will be able to find and work with your plugin package.

This step is extremely important so to make sure that you get it right I will walk you through a demonstration of customizing for the *My Test Plugin* package.

So for our example plugin design we will need to do the following:
  # Modify the name of the WPF base class to be specific to this plugin.

{{{
class MyTestPlugin_WordpressPluginFramework
}}}

  # Modify the plugin specific parameters of the WPF base class.

{{{
var $PLUGIN_TITLE = "My Test Plugin";
var $PLUGIN_VERSION = "1.00";
var $PLUGIN_SUBFOLDER_NAME = "my-test-plugin";
var $PLUGIN_FILE_NAME = "my-test-plugin";
var $PLUGIN_ADMIN_MENU_TITLE = "My Test Plugin";
var $PLUGIN_ADMIN_MENU_PAGE_TITLE = "My Test Plugin Options Page";
var $PLUGIN_ADMIN_MENU_PAGE_SLUG = "my-test-plugin-options";
}}}

You have now successfully customized the *wordpress-plugin-framework.php* file for your plugin. From this point forward, you will not need to modify this file unless you perform one of the following tasks.

  * _Release a new version of your plugin_ - You will need to modify the `PLUGIN_VERSION` to reflect the new appropriate plugin version number.
  * _Upgrade your plugin to a new release of the WPF_ - You will need to follow the guidelines specified for the new release of the WPF.




= Basic Plugin Implementation =

You are now ready to get the ball rolling on your plugin development. However, before we can deep dive the usage of the WPF you will need to perform a few standard Wordpress plugin development steps first.

== Standard Wordpress Plugin Requirements ==

Every Wordpress plugin is required to contain a valid Wordpress plugin header section and a valid *README.txt* file. Specifics about these two items are beyond the scope of this document. However, you may find more information about these two topics by clicking on the link below.

 [http://codex.wordpress.org/Writing_a_Plugin Click Here To Read About Wordpress Plugin Development]

== Creating the Plugin Class ==

Before you can begin developing your plugin's class you will need to include the WPF in your plugin's file. This is easily accomplished by using the require_once() function.

So for our example plugin design we will need to do the following:
  # Open the *my-test-plugin.php* file and add the following code just below the plugin header.
  
{{{
require_once( "wordpress-plugin-framework.php" );` just below the plugin header.
}}}

Now that the WPF is included in the project you can safely begin development of the plugin class. The first step in the class development is to derive your plugin class from the WPF base class (i.e. the class that was previously customized for this plugin).

So for our example plugin design we will need to do the following:
  # Add the following lines of code to the plugin file.

{{{
class MyTestPlugin extends MyTestPlugin_WordpressPluginFramework
{
  // Add class specific code here...
}
}}}

This step completes the creation of a plugin derived from the WPF base class.

== Instantiating the Plugin ==

Now that the derived plugin class has been created we need to do something with it. First the plugin class will need to be instantiated before it can be utilized.

So for our example plugin design we will need to do the following:
  # Add the following lines of code to the plugin file.

{{{
if( !$myTestPlugin  )
{
  // Instantiate the plugin.
  $myTestPlugin = new MyTestPlugin();
}
}}}

= Adding Options & Initializing =

The following sections discuss the methods used to add persitent data to and properly initialize the plugin utilizing the WPF.

== Adding Plugin Options ==

Plugin options provide are simply persistent pieces of data that are stored within the Wordpress database. The option values are updates via HTML <input> objects such as textboxes, checkboxes, etc... The WPF currently only supports adding options to the main Wordpress Options database table so discussion of creating and managing database tables is beyond the scope of this document.

To add an option to the plugin you simply need to call the `AddOption()` function and provide it with the appropriate set of parameters for the specific option that is being added to the plugin.

So for this example a single HTML textbox option named `"myTextboxOption"` will be added to the `$myTestPlugin` class. This textbox will default to the text string `"Hello!"` and will be modifiable by the user. A description of the textbox option that displays `"'Simple textbox option for your plugin."` will also be provided to the user. The code to implement this option is described below.

{{{
$myTestPlugin->AddOption( $myTestPlugin->OPTION_TYPE_TEXTBOX, 'myTextboxOption', 'Hello!', 'Simple textbox option for your plugin.' );
}}}

Don't worry if the syntax for the `AddOption()` function looks confusing at this point. The following documentation for this function should help answer any questions that may be present at this time.

{{{
/**
 * AddOption() - Adds an option to the plugin's options array.
 *
 * This function adds the specified option to the plugin's options array. This array can then be used to
 * manage the interface between the plugin options and the Wordpress options database.
 *
 * @param string    $optionType          Type of the option to add to the array.
 * @param string    $optionName          Name of the option to add to the array.
 * @param mixed     $optionValue         Value of the option to add to the array.
 * @param string    $optionDescription   Description of the option to add to the array.
 * 
 * @return void     None.  	 
 * 
 * @access public
 * @since {WP 2.3}
 * @author Keith Huster
 */
function AddOption( $optionType, $optionName, $optionValue, $optionDescription )
{
  // Code used to add the option...
}
}}}

The valid option types that are currently supported by the WPF are listed below.

  * `OPTION_TYPE_TEXTBOX` - Single line textbox that can contain any text string.
  * `OPTION_TYPE_TEXTAREA` - Multi-line textbox that can contain any text string.
  * `OPTION_TYPE_CHECKBOX` - Checkbox containing the value `CHECKBOX_UNCHECKED` or `CHECKBOX_CHECKED` based on the state of the checkbox.
  * `OPTION_TYPE_RADIOBUTTONS` - A group of radiobutton options (see usage note below).
  * `OPTION_TYPE_PASSWORDBOX` - Single line password box that can contain any text string.
  * `OPTION_TYPE_COMBOBOX` - A drop-down style box containing a set of options to select from (see usage note below).

 USAGE NOTE: The `OPTION_TYPE_RADIOBUTTONS` and `OPTION_TYPE_COMBOBOX` option types require a set of selectable values to be defined for the option. These options are specified as a comma delimited string of text within the option's description field. The radiobuttons and combobox options will be displayed in the order that they are added to the description field. The default value for these options types is specified in the standard '$optionValue' parameter of the option. An example radiobutton group containing three radiobuttons named "Radio1", "Radio2", and "Radio3" is shown below.

{{{
// Add a radiobuttons group containing three radiobuttons (default to "Radio2" being selected).
$myTestPlugin->AddOption( $myTestPlugin->OPTION_TYPE_RADIOBUTTONS, 'myRadiobuttonsOption', 'Radio2', 'Simple textbox option for your plugin.,Radio1,Radio2,Radio3' );
}}}

== Plugin Initialization ==

 MORE INFO COMING SOON...



= Creating the Plugin Administration Interface =

 MORE INFO COMING SOON...

== Adding Plugin Administration Blocks ==

 MORE INFO COMING SOON...

== Registering the Plugin Administration Page ==

 MORE INFO COMING SOON...



= Testing the Plugin =

 MORE INFO COMING SOON...

== Installing and Activating the Plugin ==

 MORE INFO COMING SOON...

== Updating Plugin Options ==

 MORE INFO COMING SOON...

== Uninstalling and Deactivating the Plugin ==

 MORE INFO COMING SOON...